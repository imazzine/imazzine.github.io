<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1127px" preserveAspectRatio="none" style="width:477px;height:1127px;" version="1.1" viewBox="0 0 477 1127" width="477px" zoomAndPan="magnify"><defs><filter height="300%" id="f1iw4u61mz3ce" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="391" x="42" y="26.708">Definition: EventTarget#addEventListener()</text><ellipse cx="228.5" cy="40.9531" fill="#000000" filter="url(#f1iw4u61mz3ce)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#f1iw4u61mz3ce)" height="1009.5742" style="stroke:#000000;stroke-width:2.0;" width="449" x="11" y="60.9531"/><path d="M87,60.9531 L87,70.25 L77,80.25 L11,80.25 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="14" y="74.9482">SyncTask</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="110,97.25,357,97.25,347,131.2188,100,131.2188" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="237" x="110" y="118.3887">type, callback, capture, passive, once</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="354" x="51.5" y="151.2188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="334" x="61.5" y="172.3574">const listenersMap = internal.listenersMaps.get(this)</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="254" x="101.5" y="205.1875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="234" x="111.5" y="226.3262">let listeners = listenersMap.get(type)</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="127" x="165" y="259.1563"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="107" x="175" y="280.2949">let listener = null</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="106" x="175.5" y="361.5273"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="185.5" y="382.666">listeners = []</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="223" x="117" y="430.4961"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="203" x="127" y="451.6348">listenersMap.set(type, listeners)</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="202,313.125,255,313.125,267,325.125,255,337.125,202,337.125,190,325.125,202,313.125" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="232.5" y="347.3354">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="202" y="328.9331">!listeners</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="228.5,484.4648,240.5,496.4648,228.5,508.4648,216.5,496.4648,228.5,484.4648" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="156" x="150.5" y="635.2813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="160.5" y="656.4199">listener = listeners[i]</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="183" x="137" y="689.25"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="163" x="147" y="710.3887">listener.passive = passive</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="151" x="153" y="743.2188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="131" x="163" y="764.3574">listener.once = once</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="119.5,572.4648,337.5,572.4648,349.5,591.6719,337.5,610.8789,119.5,610.8789,107.5,591.6719,119.5,572.4648" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="232.5" y="621.0894">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="119.5" y="582.6753">!listeners[i].removed &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="214" x="119.5" y="595.48">listeners[i].callback === callback &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="186" x="119.5" y="608.2847">listeners[i].capture === capture</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="228.5,797.1875,240.5,809.1875,228.5,821.1875,216.5,809.1875,228.5,797.1875" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="133,528.4648,324,528.4648,336,540.4648,324,552.4648,133,552.4648,121,540.4648,133,528.4648" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="133" y="544.2729">let i = 0; i &lt; listeners.length; i++</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="411" x="23" y="911.5898"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="391" x="33" y="932.7285">listener = new EventListener(callback, capture, passive, once)</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="166" x="145.5" y="980.5586"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146" x="155.5" y="1001.6973">listeners.push(listener)</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="205.5,863.1875,251.5,863.1875,263.5,875.1875,251.5,887.1875,205.5,887.1875,193.5,875.1875,205.5,863.1875" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="232.5" y="897.3979">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="205.5" y="878.9956">!listener</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="228.5,1034.5273,240.5,1046.5273,228.5,1058.5273,216.5,1046.5273,228.5,1034.5273" style="stroke:#A80036;stroke-width:1.5;"/><ellipse cx="228.5" cy="1100.5273" fill="#FFFFFF" filter="url(#f1iw4u61mz3ce)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="222.3128" x2="234.6872" y1="1094.3402" y2="1106.7145"/><line style="stroke:#000000;stroke-width:2.5;" x1="234.6872" x2="222.3128" y1="1094.3402" y2="1106.7145"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="131.2188" y2="151.2188"/><polygon fill="#A80036" points="224.5,141.2188,228.5,151.2188,232.5,141.2188,228.5,145.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="185.1875" y2="205.1875"/><polygon fill="#A80036" points="224.5,195.1875,228.5,205.1875,232.5,195.1875,228.5,199.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="239.1563" y2="259.1563"/><polygon fill="#A80036" points="224.5,249.1563,228.5,259.1563,232.5,249.1563,228.5,253.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="395.4961" y2="430.4961"/><polygon fill="#A80036" points="224.5,420.4961,228.5,430.4961,232.5,420.4961,228.5,424.4961" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="337.125" y2="361.5273"/><polygon fill="#A80036" points="224.5,351.5273,228.5,361.5273,232.5,351.5273,228.5,355.5273" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="267" x2="350" y1="325.125" y2="325.125"/><polygon fill="#A80036" points="346,402.9961,350,412.9961,354,402.9961,350,406.9961" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="350" x2="350" y1="325.125" y2="496.4648"/><line style="stroke:#A80036;stroke-width:1.5;" x1="350" x2="240.5" y1="496.4648" y2="496.4648"/><polygon fill="#A80036" points="250.5,492.4648,240.5,496.4648,250.5,500.4648,246.5,496.4648" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="464.4648" y2="484.4648"/><polygon fill="#A80036" points="224.5,474.4648,228.5,484.4648,232.5,474.4648,228.5,478.4648" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="293.125" y2="313.125"/><polygon fill="#A80036" points="224.5,303.125,228.5,313.125,232.5,303.125,228.5,307.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="669.25" y2="689.25"/><polygon fill="#A80036" points="224.5,679.25,228.5,689.25,232.5,679.25,228.5,683.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="723.2188" y2="743.2188"/><polygon fill="#A80036" points="224.5,733.2188,228.5,743.2188,232.5,733.2188,228.5,737.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="610.8789" y2="635.2813"/><polygon fill="#A80036" points="224.5,625.2813,228.5,635.2813,232.5,625.2813,228.5,629.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="349.5" x2="361.5" y1="591.6719" y2="591.6719"/><polygon fill="#A80036" points="357.5,692.6309,361.5,702.6309,365.5,692.6309,361.5,696.6309" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="361.5" x2="361.5" y1="591.6719" y2="809.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="361.5" x2="240.5" y1="809.1875" y2="809.1875"/><polygon fill="#A80036" points="250.5,805.1875,240.5,809.1875,250.5,813.1875,246.5,809.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="777.1875" y2="797.1875"/><polygon fill="#A80036" points="224.5,787.1875,228.5,797.1875,232.5,787.1875,228.5,791.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="552.4648" y2="572.4648"/><polygon fill="#A80036" points="224.5,562.4648,228.5,572.4648,232.5,562.4648,228.5,566.4648" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="821.1875" y2="831.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="373.5" y1="831.1875" y2="831.1875"/><polygon fill="#A80036" points="369.5,697.0273,373.5,687.0273,377.5,697.0273,373.5,693.0273" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373.5" x2="373.5" y1="540.4648" y2="831.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373.5" x2="336" y1="540.4648" y2="540.4648"/><polygon fill="#A80036" points="346,536.4648,336,540.4648,346,544.4648,342,540.4648" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="121" x2="95.5" y1="540.4648" y2="540.4648"/><polygon fill="#A80036" points="91.5,683.0273,95.5,693.0273,99.5,683.0273,95.5,687.0273" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="95.5" x2="95.5" y1="540.4648" y2="843.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="95.5" x2="228.5" y1="843.1875" y2="843.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="843.1875" y2="863.1875"/><polygon fill="#A80036" points="224.5,853.1875,228.5,863.1875,232.5,853.1875,228.5,857.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="508.4648" y2="528.4648"/><polygon fill="#A80036" points="224.5,518.4648,228.5,528.4648,232.5,518.4648,228.5,522.4648" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="945.5586" y2="980.5586"/><polygon fill="#A80036" points="224.5,970.5586,228.5,980.5586,232.5,970.5586,228.5,974.5586" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="887.1875" y2="911.5898"/><polygon fill="#A80036" points="224.5,901.5898,228.5,911.5898,232.5,901.5898,228.5,905.5898" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="263.5" x2="444" y1="875.1875" y2="875.1875"/><polygon fill="#A80036" points="440,953.0586,444,963.0586,448,953.0586,444,957.0586" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="444" x2="444" y1="875.1875" y2="1046.5273"/><line style="stroke:#A80036;stroke-width:1.5;" x1="444" x2="240.5" y1="1046.5273" y2="1046.5273"/><polygon fill="#A80036" points="250.5,1042.5273,240.5,1046.5273,250.5,1050.5273,246.5,1046.5273" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="1014.5273" y2="1034.5273"/><polygon fill="#A80036" points="224.5,1024.5273,228.5,1034.5273,232.5,1024.5273,228.5,1028.5273" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="50.9531" y2="97.25"/><polygon fill="#A80036" points="224.5,87.25,228.5,97.25,232.5,87.25,228.5,91.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228.5" x2="228.5" y1="1058.5273" y2="1090.5273"/><polygon fill="#A80036" points="224.5,1080.5273,228.5,1090.5273,232.5,1080.5273,228.5,1084.5273" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6c8647b79cc991376a9b9812f9341141]
@startuml Definition_EventTarget.addEventListener
    title Definition: EventTarget#addEventListener()

    start
        partition SyncTask {
            :type, callback, capture, passive, once/
            :const listenersMap = internal.listenersMaps.get(this)]
            :let listeners = listenersMap.get(type)]
            :let listener = null]
            if (!listeners) then (yes)
                :listeners = [] ]
                :listenersMap.set(type, listeners)]
            endif
            while (let i = 0; i < listeners.length; i++)
                if (!listeners[i].removed && \nlisteners[i].callback === callback && \nlisteners[i].capture === capture) then (yes)
                    :listener = listeners[i] ]
                    :listener.passive = passive]
                    :listener.once = once]
                endif
            endwhile
            if (!listener) then (yes)
                :listener = new EventListener(callback, capture, passive, once)]
                :listeners.push(listener)]
            endif
        }
    end
@enduml

PlantUML version 1.2021.00(Sun Jan 10 12:25:05 EET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>