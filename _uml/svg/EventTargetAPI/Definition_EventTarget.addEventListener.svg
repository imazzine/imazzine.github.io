<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1124px" preserveAspectRatio="none" style="width:443px;height:1124px;" version="1.1" viewBox="0 0 443 1124" width="443px" zoomAndPan="magnify"><defs><filter height="300%" id="f1iw4u61mz3ce" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="371" x="35" y="27.4023">Definition: EventTarget#addEventListener()</text><ellipse cx="218" cy="41.1992" fill="#000000" filter="url(#f1iw4u61mz3ce)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f1iw4u61mz3ce)" height="1012.2471" style="stroke: #000000; stroke-width: 2.0;" width="422" x="10" y="61.6523"/><path d="M83,62.6523 L83,71.1406 L73,81.1406 L10,81.1406 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="13" y="76.1875">SyncTask</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="109,98.1406,337,98.1406,327,132.2734,99,132.2734" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="218" x="109" y="119.7422">type, callback, capture, passive, once</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="34.1328" style="stroke: #A80036; stroke-width: 1.5;" width="321" x="57.5" y="152.2734"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="301" x="67.5" y="173.875">const listenersMap = internal.listenersMaps.get(this)</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="34.1328" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="102" y="206.4063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="212" x="112" y="228.0078">let listeners = listenersMap.get(type)</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="34.1328" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="159" y="260.5391"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="169" y="282.1406">let listener = null</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="34.1328" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="169" y="363.1494"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="179" y="384.751">listeners = []</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="34.1328" style="stroke: #A80036; stroke-width: 1.5;" width="203" x="116.5" y="432.2822"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="126.5" y="453.8838">listenersMap.set(type, listeners)</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="193.5,314.6719,242.5,314.6719,254.5,326.6719,242.5,338.6719,193.5,338.6719,181.5,326.6719,193.5,314.6719" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="222" y="349.3066">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="193.5" y="330.8291">!listeners</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="218,486.415,230,498.415,218,510.415,206,498.415,218,486.415" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="34.1328" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="146.5" y="637.7578"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="156.5" y="659.3594">listener = listeners[i]</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="34.1328" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="133" y="691.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="143" y="713.4922">listener.passive = passive</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="34.1328" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="149" y="746.0234"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="159" y="767.625">listener.once = once</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="117.5,574.415,318.5,574.415,330.5,593.8477,318.5,613.2803,117.5,613.2803,105.5,593.8477,117.5,574.415" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="222" y="623.915">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="117.5" y="585.0498">!listeners[i].removed &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="117.5" y="598.0049">listeners[i].callback === callback &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="117.5" y="610.96">listeners[i].capture === capture</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="218,800.1563,230,812.1563,218,824.1563,206,812.1563,218,800.1563" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="130.5,530.415,305.5,530.415,317.5,542.415,305.5,554.415,130.5,554.415,118.5,542.415,130.5,530.415" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="130.5" y="546.5723">let i = 0; i &lt; listeners.length; i++</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="34.1328" style="stroke: #A80036; stroke-width: 1.5;" width="376" x="30" y="914.6338"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="356" x="40" y="936.2354">listener = new EventListener(callback, capture, passive, once)</text><rect fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" height="34.1328" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="143" y="983.7666"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="130" x="153" y="1005.3682">listeners.push(listener)</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="196.5,866.1563,239.5,866.1563,251.5,878.1563,239.5,890.1563,196.5,890.1563,184.5,878.1563,196.5,866.1563" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="222" y="900.791">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="196.5" y="882.3135">!listener</text><polygon fill="#FEFECE" filter="url(#f1iw4u61mz3ce)" points="218,1037.8994,230,1049.8994,218,1061.8994,206,1049.8994,218,1037.8994" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="218" cy="1103.8994" fill="#FFFFFF" filter="url(#f1iw4u61mz3ce)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="211.8128" x2="224.1872" y1="1097.7122" y2="1110.0866"/><line style="stroke: #000000; stroke-width: 2.5;" x1="224.1872" x2="211.8128" y1="1097.7122" y2="1110.0866"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="132.2734" y2="152.2734"/><polygon fill="#A80036" points="214,142.2734,218,152.2734,222,142.2734,218,146.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="186.4063" y2="206.4063"/><polygon fill="#A80036" points="214,196.4063,218,206.4063,222,196.4063,218,200.4063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="240.5391" y2="260.5391"/><polygon fill="#A80036" points="214,250.5391,218,260.5391,222,250.5391,218,254.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="397.2822" y2="432.2822"/><polygon fill="#A80036" points="214,422.2822,218,432.2822,222,422.2822,218,426.2822" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="338.6719" y2="363.1494"/><polygon fill="#A80036" points="214,353.1494,218,363.1494,222,353.1494,218,357.1494" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="254.5" x2="329.5" y1="326.6719" y2="326.6719"/><polygon fill="#A80036" points="325.5,404.7822,329.5,414.7822,333.5,404.7822,329.5,408.7822" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="329.5" x2="329.5" y1="326.6719" y2="498.415"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="329.5" x2="230" y1="498.415" y2="498.415"/><polygon fill="#A80036" points="240,494.415,230,498.415,240,502.415,236,498.415" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="466.415" y2="486.415"/><polygon fill="#A80036" points="214,476.415,218,486.415,222,476.415,218,480.415" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="294.6719" y2="314.6719"/><polygon fill="#A80036" points="214,304.6719,218,314.6719,222,304.6719,218,308.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="671.8906" y2="691.8906"/><polygon fill="#A80036" points="214,681.8906,218,691.8906,222,681.8906,218,685.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="726.0234" y2="746.0234"/><polygon fill="#A80036" points="214,736.0234,218,746.0234,222,736.0234,218,740.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="613.2803" y2="637.7578"/><polygon fill="#A80036" points="214,627.7578,218,637.7578,222,627.7578,218,631.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="330.5" x2="342.5" y1="593.8477" y2="593.8477"/><polygon fill="#A80036" points="338.5,695.2407,342.5,705.2407,346.5,695.2407,342.5,699.2407" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="342.5" x2="342.5" y1="593.8477" y2="812.1563"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="342.5" x2="230" y1="812.1563" y2="812.1563"/><polygon fill="#A80036" points="240,808.1563,230,812.1563,240,816.1563,236,812.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="780.1563" y2="800.1563"/><polygon fill="#A80036" points="214,790.1563,218,800.1563,222,790.1563,218,794.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="554.415" y2="574.415"/><polygon fill="#A80036" points="214,564.415,218,574.415,222,564.415,218,568.415" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="824.1563" y2="834.1563"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="354.5" y1="834.1563" y2="834.1563"/><polygon fill="#A80036" points="350.5,699.5244,354.5,689.5244,358.5,699.5244,354.5,695.5244" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.5" x2="354.5" y1="542.415" y2="834.1563"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.5" x2="317.5" y1="542.415" y2="542.415"/><polygon fill="#A80036" points="327.5,538.415,317.5,542.415,327.5,546.415,323.5,542.415" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="118.5" x2="93.5" y1="542.415" y2="542.415"/><polygon fill="#A80036" points="89.5,685.5244,93.5,695.5244,97.5,685.5244,93.5,689.5244" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="93.5" x2="93.5" y1="542.415" y2="846.1563"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="93.5" x2="218" y1="846.1563" y2="846.1563"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="846.1563" y2="866.1563"/><polygon fill="#A80036" points="214,856.1563,218,866.1563,222,856.1563,218,860.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="510.415" y2="530.415"/><polygon fill="#A80036" points="214,520.415,218,530.415,222,520.415,218,524.415" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="948.7666" y2="983.7666"/><polygon fill="#A80036" points="214,973.7666,218,983.7666,222,973.7666,218,977.7666" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="890.1563" y2="914.6338"/><polygon fill="#A80036" points="214,904.6338,218,914.6338,222,904.6338,218,908.6338" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="251.5" x2="416" y1="878.1563" y2="878.1563"/><polygon fill="#A80036" points="412,956.2666,416,966.2666,420,956.2666,416,960.2666" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="416" x2="416" y1="878.1563" y2="1049.8994"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="416" x2="230" y1="1049.8994" y2="1049.8994"/><polygon fill="#A80036" points="240,1045.8994,230,1049.8994,240,1053.8994,236,1049.8994" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="1017.8994" y2="1037.8994"/><polygon fill="#A80036" points="214,1027.8994,218,1037.8994,222,1027.8994,218,1031.8994" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="51.1992" y2="98.1406"/><polygon fill="#A80036" points="214,88.1406,218,98.1406,222,88.1406,218,92.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="218" x2="218" y1="1061.8994" y2="1093.8994"/><polygon fill="#A80036" points="214,1083.8994,218,1093.8994,222,1083.8994,218,1087.8994" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml Definition_EventTarget.addEventListener
    title Definition: EventTarget#addEventListener()

    start
        partition SyncTask {
            :type, callback, capture, passive, once/
            :const listenersMap = internal.listenersMaps.get(this)]
            :let listeners = listenersMap.get(type)]
            :let listener = null]
            if (!listeners) then (yes)
                :listeners = [] ]
                :listenersMap.set(type, listeners)]
            endif
            while (let i = 0; i < listeners.length; i++)
                if (!listeners[i].removed && \nlisteners[i].callback === callback && \nlisteners[i].capture === capture) then (yes)
                    :listener = listeners[i] ]
                    :listener.passive = passive]
                    :listener.once = once]
                endif
            endwhile
            if (!listener) then (yes)
                :listener = new EventListener(callback, capture, passive, once)]
                :listeners.push(listener)]
            endif
        }
    end
@enduml

PlantUML version 1.2019.09(Mon Aug 26 19:19:51 EEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 13.0.1+9
Operating System: Mac OS X
OS Version: 10.15.3
Default Encoding: UTF-8
Language: en
Country: UA
--></g></svg>